Bootstrap:docker
From: julia:1.4.1
Stage: devel

%setup
%files
    src /sudoku/src
    Project.toml /sudoku/

%environment
    APPNAME="sudoku"

%post
    cd sudoku
    julia -e "using Pkg; pkg\"activate . \"; pkg\"instantiate\"; pkg\"precompile\"; "

%runscript
    cd /sudoku
    julia "$@" -e "@everywhere using Pkg; @everywhere pkg\"activate . \";include(\"src/Main.jl\")"

%startscript
